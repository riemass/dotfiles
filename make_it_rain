#!/bin/bash

# Samir's basic configuration
# Manjaro linux, xfce
# highly non-portable and system dependable

### SYSTEM UPDATE
sudo pacman -Syu

# install basic development tools
sudo pacman -S --noconfirm --needed
  gdb \
	clang \
	clang-tools-extra \
	qemu \
	qemu-arch-extra \
	python-setuptools \
	python2-setuptools \
	python-pip \
	python2-pip \
	neovim \
	python-neovim \
	python2-neovim \
	geany \
	ctags \
	cmake \
	zsh \
	rxvt-unicode \
  help2man

  # installed via git later on
	# adobe-source-code-pro-fonts \
	# adobe-source-sans-pro-fonts \
	# adobe-source-serif-pro-fonts 

# GNU global from AUR
yaourt -S global

# setup pip, python and neovim 
pip2 install --upgrade --user pip
pip install --upgrade --user pip
pip2 install --user neovim
pip install --user neovim

# will be needed later
mkdir ~/gitstuff
mkdir -p ~/.config/autostart


### NEOVIM CONFIG
# nvim link to configuration files
mkdir -p ~/.config/nvim/
ln -s `pwd`/init.vim ~/.config/nvim/init.vim

# getting vim-plug to where it belongs
curl -fLo ~/.config/nvim/autoload/plug.vim --create-dirs \
    https://raw.githubusercontent.com/junegunn/vim-plug/master/plug.vim

# better to do this manually
# nvim
# cd ~/.config/nvim/plugged/YouCompleteMe/
# ./install.sh --clang-completer --system-libclang

ln -s `pwd`/ycm_extra_conf.py ~/.ycm_extra_conf.py

# making the base16 colorschemes accualy look good in terminal and vim 
git clone https://github.com/chriskempson/base16-shell.git \
   ~/.config/base16-shell

mkdir -p ~/.config/nvim/colors

git clone git://github.com/chriskempson/base16-vim.git  \
    ~/gitstuff/base16-vim
cp ~/gitstuff/base16-vim/colors/*.vim ~/.config/nvim/colors/

### git stuff, terminal and zsh
pushd ~/gitstuff
git clone https://github.com/zsh-users/antigen
git clone https://github.com/mesonbuild/meson.git
popd

ln -s `pwd`/zshrc ~/.zshrc
cat ./bashrc >> ~/.bashrc

cp ./kbd.desktop ~/.config/autostart
cp ./gitconfig ~/.gitconfig
